# -*- coding: utf-8 -*-
"""Generated by ArcGIS ModelBuilder on: 2019-11-12 11:06:28
All ModelBuilder functionality may not be exported. Edits may be required for equivalency with the original model.
"""

import arcpy

# To allow overwriting the outputs change the overwrite option to true.
arcpy.env.overwriteOutput = False

# Local variables:
ceden_ntu_r3_2019_07_26_csv = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\tables\ceden_ntu_r3_2019-07-26.csv"
mon_stations1 = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\mon_stations1"
mon_stations2 = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\mon_stations2"
NHDFlowline_shp__2_ = r"R:\RB3\GIS_Data\Spatial\GIS-Data\CA\3\Hydrography\SurfaceWater\2012_NHDPlus_V2_CC\NHDPlusCA\NHDPlus18\NHDSnapshot\Hydrography\NHDFlowline.shp"
CC_Region_shp__2_ = r"R:\RB3\GIS_Data\Spatial\GIS-Data\CA\3\Administrative-Boundaries\RegionalBoard\CC_Region.shp"
r3_streams = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\r3_streams"
mon_stations3 = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\mon_stations3"
mon_stations3__3_ = mon_stations3
EROM_MA0001_dbf = r"R:\RB3\GIS_Data\Spatial\GIS-Data\CA\3\Hydrography\SurfaceWater\2012_NHDPlus_V2_CC\NHDPlusCA\NHDPlus18\EROMExtension\EROM_MA0001.dbf"
mon_stations3__2_ = mon_stations3__3_
PlusFlowlineVAA_dbf = r"R:\RB3\GIS_Data\Spatial\GIS-Data\CA\3\Hydrography\SurfaceWater\2012_NHDPlus_V2_CC\NHDPlusCA\NHDPlus18\NHDPlusAttributes\PlusFlowlineVAA.dbf"
mon_stations3__5_ = mon_stations3__2_
elevslope_dbf = r"R:\RB3\GIS_Data\Spatial\GIS-Data\CA\3\Hydrography\SurfaceWater\2012_NHDPlus_V2_CC\NHDPlusCA\NHDPlus18\NHDPlusAttributes\elevslope.dbf"
WBD_Subwatershed_shp = r"R:\RB3\GIS_Data\Spatial\GIS-Data\CA\3\Hydrography\SurfaceWater\2012_NHDPlus_V2_CC\NHDPlusCA\NHDPlus18\WBDSnapshot\WBD\WBD_Subwatershed.shp"
r3_sheds = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\r3_sheds"
mon_stations4 = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\mon_stations4"
mon_stations_csv = mon_stations4
tables__2_ = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\tables"
r3_huc10 = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\r3_huc10"
r3_huc8 = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\r3_huc8"
CC_NLCD = r"R:\RB3\GIS_Data\Spatial\GIS-Data\CA\3\Land-Use-Land-Cover\NLCD_2011\CC_NLCD_2011.gdb\CC_NLCD"
lu_by_huc12 = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12"
lu_by_huc_csv = lu_by_huc12
tables = r"H:\Gabilan Turbidity TMDL\stream-classification\gis\tables"

# Process: XY Table To Point
arcpy.XYTableToPoint_management(in_table=ceden_ntu_r3_2019_07_26_csv, out_feature_class=mon_stations1, x_field="TargetLongitude", y_field="TargetLatitude", z_field="", coordinate_system="")

# Process: Dissolve
arcpy.Dissolve_management(in_features=mon_stations1, out_feature_class=mon_stations2, dissolve_field="StationCode", statistics_fields="", multi_part="MULTI_PART", unsplit_lines="DISSOLVE_LINES")

# Process: Clip
arcpy.Clip_analysis(in_features=NHDFlowline_shp__2_, clip_features=CC_Region_shp__2_, out_feature_class=r3_streams, cluster_tolerance="")

# Process: Spatial Join
arcpy.SpatialJoin_analysis(target_features=mon_stations2, join_features=r3_streams, out_feature_class=mon_stations3, join_operation="JOIN_ONE_TO_ONE", join_type="KEEP_ALL", field_mapping=r"StationCode "StationCode" true true false 8000 Text 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\mon_stations2,StationCode,0,8000;COMID "COMID" true false false 9 Long 0 9,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\r3_streams,COMID,-1,-1", match_option="CLOSEST", search_radius="", distance_field_name="")

# Process: Join Field
arcpy.JoinField_management(in_data=mon_stations3, in_field="COMID", join_table=EROM_MA0001_dbf, join_field="Comid", fields="Q0001E;V0001E")

# Process: Join Field (3)
arcpy.JoinField_management(in_data=mon_stations3__3_, in_field="COMID", join_table=PlusFlowlineVAA_dbf, join_field="Comid", fields="StreamOrde")

# Process: Join Field (2)
arcpy.JoinField_management(in_data=mon_stations3__2_, in_field="COMID", join_table=elevslope_dbf, join_field="Comid", fields="SLOPE")

# Process: Clip (2)
arcpy.Clip_analysis(in_features=WBD_Subwatershed_shp, clip_features=CC_Region_shp__2_, out_feature_class=r3_sheds, cluster_tolerance="")

# Process: Spatial Join (2)
arcpy.SpatialJoin_analysis(target_features=mon_stations3__5_, join_features=r3_sheds, out_feature_class=mon_stations4, join_operation="JOIN_ONE_TO_ONE", join_type="KEEP_ALL", field_mapping="", match_option="INTERSECT", search_radius="", distance_field_name="")

# Process: Table To Table (2)
arcpy.TableToTable_conversion(in_rows=mon_stations4, out_path=tables__2_, out_name="mon_stations.csv", where_clause="", field_mapping=r"Join_Count "Join_Count" true true false 0 Long 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\mon_stations4,Join_Count,-1,-1;TARGET_FID "TARGET_FID" true true false 0 Long 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\mon_stations4,TARGET_FID,-1,-1", config_keyword="")

# Process: Dissolve (2)
arcpy.Dissolve_management(in_features=r3_sheds, out_feature_class=r3_huc10, dissolve_field="HUC_10", statistics_fields="", multi_part="MULTI_PART", unsplit_lines="DISSOLVE_LINES")

# Process: Dissolve (3)
arcpy.Dissolve_management(in_features=r3_sheds, out_feature_class=r3_huc8, dissolve_field="HUC_8", statistics_fields="", multi_part="MULTI_PART", unsplit_lines="DISSOLVE_LINES")

# Process: Tabulate Area
arcpy.gp.TabulateArea_sa(in_zone_data=r3_sheds, zone_field="HUC_12", in_class_data=CC_NLCD, class_field="VALUE", out_table=lu_by_huc12, processing_cell_size=r"R:\RB3\GIS_Data\Spatial\GIS-Data\CA\3\Land-Use-Land-Cover\NLCD_2011\CC_NLCD_2011.gdb\CC_NLCD")

# Process: Table To Table
arcpy.TableToTable_conversion(in_rows=lu_by_huc12, out_path=tables, out_name="lu_by_huc.csv", where_clause="", field_mapping=r"HUC_12 "HUC_12" true true false 12 Text 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,HUC_12,0,12,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,HUC_12,0,12;VALUE_11 "VALUE_11" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_11,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_11,-1,-1;VALUE_21 "VALUE_21" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_21,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_21,-1,-1;VALUE_22 "VALUE_22" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_22,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_22,-1,-1;VALUE_23 "VALUE_23" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_23,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_23,-1,-1;VALUE_24 "VALUE_24" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_24,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_24,-1,-1;VALUE_31 "VALUE_31" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_31,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_31,-1,-1;VALUE_41 "VALUE_41" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_41,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_41,-1,-1;VALUE_42 "VALUE_42" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_42,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_42,-1,-1;VALUE_43 "VALUE_43" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_43,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_43,-1,-1;VALUE_52 "VALUE_52" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_52,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_52,-1,-1;VALUE_71 "VALUE_71" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_71,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_71,-1,-1;VALUE_81 "VALUE_81" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_81,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_81,-1,-1;VALUE_82 "VALUE_82" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_82,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_82,-1,-1;VALUE_90 "VALUE_90" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_90,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_90,-1,-1;VALUE_95 "VALUE_95" true true false 8 Double 0 0,First,#,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_95,-1,-1,H:\Gabilan Turbidity TMDL\stream-classification\gis\stream-classification.gdb\lu_by_huc12,VALUE_95,-1,-1", config_keyword="")

